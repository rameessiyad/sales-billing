import{r as l,u as y,j as e,A as j,b as o}from"./index-R32pK0TL.js";const b=()=>{const[c,n]=l.useState(0),[r,d]=l.useState(0),[i,x]=l.useState([]),[h,m]=l.useState(!0),p=y(),u=async()=>{try{const s=await(await fetch(`${o}/product/count`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();s.success&&n(s.count)}catch(t){console.log(t)}},g=async()=>{try{const s=await(await fetch(`${o}/sales/count`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();s.success&&d(s.count)}catch(t){console.log(t)}};return l.useEffect(()=>{(async()=>{try{const a=await(await fetch(`${o}/sales/latest`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"})).json();a.success?x(a.sales):console.log(a.message)}catch(s){console.log(s)}finally{m(!1)}})(),u(),g()},[]),h?e.jsx("div",{children:e.jsx("div",{className:"text-center p-6",children:"Loading..."})}):e.jsx(j,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-lg flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Products"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:c})]}),e.jsxs("div",{className:"p-6 bg-white shadow-lg rounded-lg flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Sales"}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-gray-900",children:r})]})]}),e.jsxs("div",{className:"bg-white p-6 shadow-lg rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Latest Sales"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-300 rounded-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b",children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Product"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Quantity"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Date"})]})}),e.jsx("tbody",{children:i.slice(0,5).map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3 text-gray-700 font-medium",children:t.customer}),e.jsx("td",{className:"px-4 py-3 text-gray-700 font-medium",children:t.products.map(s=>s.productName).join(", ")}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.products.reduce((s,a)=>s+a.quantity,0)}),e.jsxs("td",{className:"px-4 py-3 text-gray-700",children:["â‚¹",t.totalAmount]}),e.jsx("td",{className:"px-4 py-3 text-gray-500",children:new Date(t.date).toLocaleDateString()})]},t._id))})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("button",{className:"px-4 py-2 text-sm text-white bg-blue-600 rounded-md hover:bg-blue-700 focus:outline-none",onClick:()=>p("/sales"),children:"Show More"})})]})]})})};export{b as default};
