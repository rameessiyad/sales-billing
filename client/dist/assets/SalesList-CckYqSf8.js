import{r as a,j as e,A as f,b as y}from"./index-R32pK0TL.js";const N=()=>{const[l,i]=a.useState([]),[x,h]=a.useState(!0),[n,c]=a.useState(null),[o,m]=a.useState(1),r=5,p=async()=>{try{const t=await fetch(`${y}/sales`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),s=await t.json();t.ok?i(s.sales):c("Failed to fetch sales data")}catch(t){console.error("Error fetching sales data:",t),c("An error occurred while fetching sales")}finally{h(!1)}};a.useEffect(()=>{p()},[]);const d=o*r-r,g=l.slice(d,d+r),u=t=>m(t);return x?e.jsx("div",{children:"Loading sales data..."}):n?e.jsx("div",{children:n}):e.jsx(f,{children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-6",children:"Sales List"}),e.jsx("div",{className:"bg-white p-6 shadow-lg rounded-lg",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border border-gray-300 rounded-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100 border-b",children:[e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Date"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Customer"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Total Amount"}),e.jsx("th",{className:"px-4 py-3 text-left text-gray-600 font-semibold",children:"Products"})]})}),e.jsx("tbody",{children:g.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-4 py-3 text-gray-700",children:new Date(t.date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.customerName}),e.jsxs("td",{className:"px-4 py-3 text-gray-700",children:["$",t.totalAmount]}),e.jsx("td",{className:"px-4 py-3 text-gray-700",children:t.products.map(s=>s.productName).join(", ")})]},t._id))})]})})}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("nav",{children:e.jsx("ul",{className:"flex space-x-2",children:Array.from({length:Math.ceil(l.length/r)},(t,s)=>e.jsx("li",{children:e.jsx("button",{onClick:()=>u(s+1),className:`px-3 py-1 rounded-md ${o===s+1?"bg-blue-600 text-white":"bg-gray-200 text-gray-700"} hover:bg-blue-700 hover:text-white transition`,children:s+1})},s))})})})]})})};export{N as default};
